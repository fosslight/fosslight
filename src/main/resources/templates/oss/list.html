<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/html" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="fragments/detail-script :: detailScriptFragment"></th:block>
<th:block th:replace="fragments/gridCommonFn :: gridCommonFn"></th:block>
<th:block th:replace="oss/list-script :: script"></th:block>
<body class="hold-transition sidebar-mini" style="height: 100%;">
<div class="wrapper">
    <div class="custom-layout">
        <section class="content-header"></section>
        <section class="content">
            <div class="container-fluid">
                <form id="ossSearch" name="ossSearch">
                    <input name="type" type="hidden" value="oss">
                    <input name="parameter" type="hidden">
                    <input name="act" type="hidden" value="search"/>
                    <input class="save-value" name="defaultSearchType" type="hidden" th:value="OSS"/>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card card-dark card-outline collapsed-card search-form mb-3">
                                <div class="card-header" style="border-bottom: none;">
                                    <div class="row">
                                        <div class="col-md-7 d-flex">
                                            <div class="row" style="width: 100%;">
                                            	<div class="col-12">
                                            		<div class="input-group">
                                                		<button th:if="${@CommonFunction.isAdmin()}" type="button" class="btn btn-lg-red btn-sm width-5rem text-md fw-4 mr-xm" th:onclick="|createTabInFrame('New_OpenSource', '/oss/edit')|" th:text="|+ Add|"></button>
                                                    	<input class="form-control save-value" style="border-right: 0px solid #fff;" name="ossName" placeholder="OSS Name" th:value="${searchBean.ossName}" type="text">
                                                    	<div class="input-group-append">
                                                    		<span class="input-group-text pr-3" style="padding-left: 2.2rem; background-color: #fff; border-left: 0px solid #fff;">
                                                    			<input class="form-check-input" id="ossNameAllSearchFlag" th:checked="${searchBean.ossNameAllSearchFlag == 'Y' }" type="checkbox">
                                                				<label class="form-check-label text-blue-gray text-sm" for="ossNameAllSearchFlag" th:text="'Exact Match'"></label>
                                                				<input class="save-value" name="ossNameAllSearchFlag" th:value="${searchBean.ossNameAllSearchFlag}" type="hidden"/>
                                                    		</span>
                                                    	</div>
                                                    	<div class="input-group-append">
                                                        	<button class="btn btn-default" id="search" type="submit"><i class="fa fa-search"></i></button>
                                                    	</div>
                                                	</div>
                                            	</div>
                                            </div>
                                        </div>
                                        <div class="col-md-3 pl-3 d-flex justify-content-start">
                                            <div class="input-group-append d-flex align-items-center">
                                            	<a class="text-blue-gray text-center" data-card-widget="collapse" style="font-size: 1rem;" title="Collapse">
                                            		<span class="row" th:text="'+ Advanced Search'"></span><span class="row ml-3 text-lg-red text-xs optionSelected" style="display: none;" th:text="'option selected'"></span>
                                            	</a>
                                           	</div>
                                        </div>
                                        <div th:if="${@environment.getProperty('fosslight.suffix') != null}" class="col-md-2 pr-3">
                                            <div class="helpLink f-left dropdown float-right mt-1">
                                                <a class="help-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Help</a>
                                                <div class="dropdown-menu mt-0">
                                                    <a class="dropdown-item" href="#" th:onclick="|openHelpGuideLink('OSS_List_Main')|">How to use FossLight Hub</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body py-1">
                                    <div class="row">
                                        <div class="col-md-5">
                                            <div class="input-group mb-2">
                                                <input class="form-control autoComLicense save-value" name="licenseName" style="border-right: 0px solid #fff;" placeholder="License Name" th:value="${searchBean.licenseName}" type="text"/>
                                                <div class="input-group-append">
                                                    <span class="input-group-text pr-3" style="padding-left: 2.2rem; background-color: #fff; border-left: 0px solid #fff;">
                                                    	<input class="form-check-input" id="licenseNameAllSearchFlag" th:checked="${searchBean.licenseNameAllSearchFlag == 'Y' }" type="checkbox">
                                                		<label class="form-check-label text-blue-gray text-sm" for="licenseNameAllSearchFlag" th:text="'Exact Match'"></label>
                                                		<input class="form-check-input text-orange save-value" name="licenseNameAllSearchFlag" th:value="${searchBean.licenseNameAllSearchFlag}" type="hidden"/>
                                                    </span>
                                              	</div>
                                            </div>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="input-group mb-2">
                                                <input class="form-control save-value" name="homepage" placeholder="Website" style="border-right: 0px solid #fff;" th:value="${searchBean.homepage}" type="text">
                                                <div class="input-group-append">
                                                    <span class="input-group-text pr-3" style="padding-left: 2.2rem; background-color: #fff; border-left: 0px solid #fff;">
                                                    	<input class="form-check-input" id="homepageAllSearchFlag" th:checked="${searchBean.homepageAllSearchFlag == 'Y' }" type="checkbox">
                                                		<label class="form-check-label text-blue-gray text-sm" for="homepageAllSearchFlag" th:text="'Exact Match'"></label>
                                                		<input class="form-check-input text-orange save-value" name="homepageAllSearchFlag" th:value="${searchBean.homepageAllSearchFlag}" type="hidden"/>
                                                    </span>
                                              	</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-5">
                                            <div class="form-group mb-2">
                                                <textarea class="form-control save-value" name="copyrights" placeholder="Copyright Text" rows="3" th:text="${searchBean.copyright}"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="form-group mb-2">
                                                <textarea class="form-control save-value" name="summaryDescription" placeholder="Description" rows="3" th:text="${searchBean.summaryDescription}"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-5">
                                            <div class="form-group mb-2">
                                                <input class="form-control save-value" id="cvssScoreInput" name="cvssScore" placeholder="Vulnerability (>=)" th:value="${searchBean.cvssScore}" type="text">
                                            </div>
                                        </div>
                                        <div class="col-md-5 d-flex justify-content-start mx-2">
                                            <div class="form-group mb-2 d-flex align-items-center">
                                                <div class="form-check mb-1" style="font-size: .85rem">
                                                    <input class="form-check-input text-orange" id="deactivateFlag" th:checked="${searchBean.deactivateFlag == 'Y'}" type="checkbox">
                                                    <label class="form-check-label text-lg-gray" for="deactivateFlag" th:text="'Deactive'"></label>
                                                    <input class="form-check-input text-orange save-value" name="deactivateFlag" th:value="${searchBean.deactivateFlag}" type="hidden">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
										<div class="col-md-10">
											<div class="form-group mb-2">
												<select class="select2 save-value" id="restrictionSelect" multiple="multiple" name="arrRestriction" style="width: 100%;">
													<option th:each="code : ${@CoCodeManager.getCodeDtls(@CommonFunction.getCoConstDefVal('CD_LICENSE_RESTRICTION'))}"
															th:text="${code.cdDtlNm}"
															th:value="${code.cdDtlNo}">
													</option>
												</select>
											</div>
										</div>
									</div>
                                   	<div class="row mb-2">
                                     	<div class="col-md-3">
                                           	<div class="form-group mb-2">
                                              	<select class="select2 save-value" id="creatorSelect" name="creator" style="width: 100%;">
                                                 	<option value=""></option>
                                                  	<th:block th:utext="${@CommonFunction.genOptionUsers('ROLE_ADMIN', searchBean?.creator)}"></th:block>
                                             	</select>
                                          	</div>
                                     	</div>
                                      	<div class="col-md-3">
                                          	<div class="form-group mb-2">
                                               	<input class="form-control" id="createdDate" type="text"/>
                                              	<input class="form-control save-value" name="cStartDate" type="hidden" th:value="${searchBean?.cStartDate}"/>
                                              	<input class="form-control save-value" name="cEndDate" type="hidden" th:value="${searchBean?.cEndDate}"/>
                                           	</div>
                                       	</div>
                                      	<div class="col-md-3">
                                          	<div class="form-group mb-2">
                                              	<select class="select2 save-value" id="modifierSelect" name="modifier" style="width: 100%;">
                                                	<option value=""></option>
                                                  	<th:block th:utext="${@CommonFunction.genOptionUsers('ROLE_ADMIN', searchBean?.modifier)}"></th:block>
                                             	</select>
                                        	</div>
                                    	</div>
                                       	<div class="col-md-3">
                                          	<div class="form-group mb-2">
                                             	<input class="form-control" id="modifiedDate" placeholder="Modified Date" type="text"/>
                                              	<input class="form-control save-value" name="mStartDate" th:value="${searchBean?.mStartDate}" type="hidden"/>
                                              	<input class="form-control save-value" name="mEndDate" th:value="${searchBean?.mEndDate}" type="hidden"/>
                                          	</div>
                                       	</div>
                                       	<div class="col-md-3">
                                     		<select class="select2 save-value" id="licenseTypeSelect" name="licenseType" style="width: 100%; color: gray;">
                                             	<option value=""></option>
                                               	<th:block th:each="code : ${@CoCodeManager.getCodeDtls(@CommonFunction.getCoConstDefVal('CD_LICENSE_TYPE'))}">
                                                	<option th:text="${code.cdDtlNm}"
                                                          	th:value="${code.cdDtlNo}"
                                                          	th:selected="${#strings.equals(code.cdDtlNo, searchBean?.licenseType)}"></option>
                                               	</th:block>
                                          	</select>
                                   		</div>
                                     	<div class="col-md-3">
                                     		<div class="form-group mb-2">
                                     			<th:block th:with="ossTypeSearch=${#strings.arraySplit(searchBean.ossTypeSearch, ',')}">
                                            		<select class="select2 save-value" multiple="multiple" name="ossTypeSearch" id="ossTypeSearchSelect" style="width: 100%;">
                                                		<option th:text="None" th:value="N" th:selected="${ossTypeSearch != null and #arrays.contains(ossTypeSearch, 'N')}"></option>
                                                    	<option th:text="Multi" th:value="M" th:selected="${ossTypeSearch != null and #arrays.contains(ossTypeSearch, 'M')}"></option>
                                                    	<option th:text="Dual" th:value="D" th:selected="${ossTypeSearch != null and #arrays.contains(ossTypeSearch, 'D')}"></option>
                                                    	<option th:text="V-Diff" th:value="V" th:selected="${ossTypeSearch != null and #arrays.contains(ossTypeSearch, 'V')}"></option>
                                               		</select>
                                               	</th:block>
                                            </div>
                                      	</div>
                                      	<div class="col-md-3">
                                            <div class="input-group mb-2">
                                                <input class="form-control" name="includeCpe" style="border-right: 0px solid #fff;" placeholder="Include cpe" value="" type="text"/>
                                                <div class="input-group-append">
                                                    <span class="input-group-text pr-3" style="padding-left: 2.2rem; background-color: #fff; border-left: 0px solid #fff;">
                                                    	<input class="form-check-input" id="includeCpeAllSearchFlag" type="checkbox">
                                                		<label class="form-check-label text-blue-gray text-sm" for="includeCpeAllSearchFlag" th:text="'Exact Match'"></label>
                                                		<input class="form-check-input text-orange" name="includeCpeAllSearchFlag" type="hidden"/>
                                                    </span>
                                              	</div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="input-group mb-2">
                                                <input class="form-control" name="excludeCpe" style="border-right: 0px solid #fff;" placeholder="Exclude cpe" value="" type="text"/>
                                                <div class="input-group-append">
                                                    <span class="input-group-text pr-3" style="padding-left: 2.2rem; background-color: #fff; border-left: 0px solid #fff;">
                                                    	<input class="form-check-input" id="excludeCpeAllSearchFlag" type="checkbox">
                                                		<label class="form-check-label text-blue-gray text-sm" for="excludeCpeAllSearchFlag" th:text="'Exact Match'"></label>
                                                		<input class="form-check-input text-orange" name="excludeCpeAllSearchFlag" type="hidden"/>
                                                    </span>
                                              	</div>
                                            </div>
                                        </div>
                                 	</div>
                               	<div class="row">
                               		<div class="col-md-12">
                               			<div class="p-2 text-center">
                                         	<button class="btn btn-ivory btn-sm btn-icon" th:onclick="|updateSearchCondition('ossSearch')|" data-toggle="tooltip" data-placement="right" type="button">
                                              	<i class="fa fa-download px-1"></i> save conditions
                                         	</button>
                                           	<button class="btn btn-ivory btn-sm btn-icon ml-2" th:onclick="|resetForm('ossSearch')|" data-toggle="tooltip" data-placement="right" type="button">
                                              	<i class="fa fa-undo px-1"></i> reset
                                           	</button>
                                       	</div>
                               		</div>
                               	</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="row px-1">
<!--              	<div class="col-md-6">
                		<div class="row">
                            <th:block th:if="${@CommonFunction.isAdmin()}">
                                <button class="btn btn-danger btn-sm width-10rem mr-xm px-3" th:onclick="|oss_lst_fn.deleteOss()|"
                                        th:text="Delete" type="button"></button>
                            </th:block>
                        </div>
                    </div>
                    <div class="col-md-6">
                		<div class="row float-right">
                            <th:block th:if="${@CommonFunction.isAdmin() and project?.dropYn != 'Y'}">
                                <button class="btn btn-danger btn-sm width-10rem mr-xm px-3" th:onclick="|createTabInFrame('BulkReg_Oss', '/oss/ossBulkReg')|"
                                        th:text="'Bulk Registration'"
                                        type="button"></button>
                            </th:block>
                            <button class="btn btn-lg-light-gray btn-sm width-6rem mr-xm px-3" th:onclick="|fn.downloadExcel()|"
                                    type="button"><i class="far fa-file-excel mr-2"></i>Export
                            </button>
                            <th:block th:if="${@CommonFunction.isAdmin()}">
                                <button class="btn btn-danger btn-sm width-6rem mr-xm px-3" th:onclick="|createTabInFrame('New_OpenSource', '/oss/edit')|"
                                        th:text="Add"
                                        type="button"></button>
                            </th:block>
                        </div>
                    </div> -->
                </div>
                <div class="row">
                    <div class="col-12 mt-3">
                        <div class="col-sm-12 jqGridSet" id="ossGrid">
                            <table id="list">
                                <tr>
                                    <td></td>
                                </tr>
                            </table>
                            <div id="pager"></div>
                        </div>
                    </div>
                </div>
                </form>
            </div>
            <!-- loading bar -->
            <th:block th:replace="fragments/common-fragments :: loadingWrapFragment"></th:block>
            <!-- /. loading bar -->
        </section>
    </div>
</div>
</body>
</html>